## 1. 简介
本程序适用于搭载MaixCam/Pro/2硬件平台的设备，主要实现对PMOD_Thermal32红外热成像传感器的驱动与数据可视化，支持热成像画面与摄像头画面融合显示，可实时展示温度数据、极值温度标注等核心信息，是一套开箱即用的热成像数据采集与可视化解决方案。

## 2. 主要功能
1. **设备自动检测**：程序启动后自动扫描I2C总线（MAIXCAM为I2C5，MAIXCAM2为I2C7），识别是否接入PMOD_Thermal32热成像传感器；
2. **热成像可视化**：将PMOD_Thermal32采集的32×24像素温度矩阵转换为可视化图像，并缩放至显示屏分辨率展示；
3. **多模式显示**：支持纯热成像模式、热成像与摄像头画面融合模式切换；
4. **温度标注**：实时显示画面中最高温度、最低温度、中心位置温度，并通过十字准星标注对应位置；
5. **交互支持**：适配触摸屏操作，支持退出程序、模式切换等基础交互；
6. **自适应硬件**：兼容MAIXCAM/MAIXCAM2两种硬件平台，自动适配I2C引脚与驱动加载逻辑。

## 3. 使用说明
### 3.1 硬件准备
1. 将PMOD_Thermal32传感器通过对应接口连接至设备的指定I2C总线（MAIXCAM接I2C5，MAIXCAM2接I2C7）；
2. 确保设备显示屏、触摸屏、摄像头（如需融合模式）已正确安装并接线。

### 3.2 运行程序
3. 程序启动后会自动检测PMOD_Thermal32设备：
   - 检测到设备：自动进入热成像显示界面，实时刷新热成像画面；
   - 未检测到设备：屏幕显示“Devices Not Found!”提示，点击触摸屏任意位置可退出程序。

### 3.3 操作说明
1. **模式切换**：支持热成像纯模式/热成像+摄像头融合模式切换（具体切换方式需结合设备UI交互逻辑，如触摸屏点击指定区域）；
2. **退出程序**：在显示界面点击触摸屏（未检测到设备时），或通过设备默认退出指令（如快捷键、串口指令）退出；
3. **画面刷新**：程序后台自动循环采集传感器数据，画面实时刷新（PMOD_Thermal32帧率为32FPS）。

## 4. 注意事项
1. **传感器接线**：MLX90640的I2C地址固定为0x33，需确保接线正确且无地址冲突；
2. **摄像头复位**：融合模式下若摄像头异常，程序会自动尝试复位摄像头，复位期间画面会短暂中断，属于正常现象；
3. **资源占用**：程序运行时会占用显示屏、I2C、摄像头等硬件资源，退出程序前请勿手动占用这些资源，避免冲突。
4. **温度参数**：程序默认适配的温度范围可通过代码调整（当前默认动态适配温度极值，也可手动设置固定范围如5.0℃~60.0℃）；
5. **色彩映射**：支持切换不同的色彩映射方案（cmap），可根据实际需求调整热成像画面的色彩显示效果；
6. **画面缩放**：原始热成像数据为32×24像素，程序通过缩放算法（BICUBIC/BILINEAR）适配显示屏分辨率，保证画面清晰；
7. **扩展开发**：程序预留了温度数据接口（如`matrix()`获取温度矩阵、`max_temp_point()`获取最高温坐标与数值），可基于这些接口扩展温度报警、数据存储等功能。

## 5. 更多介绍
[源码](https://github.com/sipeed/MaixCDK/tree/main/projects/app_thermal_camera)