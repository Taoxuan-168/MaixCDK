## 1. 简介
本程序适用于搭载 MaixCam系列芯片的硬件设备，基于 YOLOv5 神经网络模型实现实时目标检测功能。程序可调用设备摄像头采集画面，对画面中的目标进行识别与框选，并在显示屏实时展示检测结果；同时支持触控屏操作，点击指定退出按钮区域可终止程序运行，整体操作简单、检测响应实时性高。

## 2. 主要功能
1. **实时目标检测**：调用设备摄像头获取实时画面，通过 YOLOv5 模型对画面中的目标进行识别，支持设置置信度阈值（0.5）和交并比阈值（0.45）过滤无效检测结果。
2. **可视化展示**：在检测画面中用红色矩形框标注目标位置，显示目标类别名称；同时展示检测耗时（摄像头采集、模型推理、画面显示）、总耗时及实时帧率等性能数据。
3. **触控退出功能**：显示屏左上角显示退出按钮（ret.png 图片），触摸该按钮区域可立即退出程序。
4. **异常处理**：内置摄像头读取、模型加载、图片缩放等环节的异常检测与日志输出，保障程序稳定运行。

## 3. 使用说明
### 3.1 运行与操作步骤
1. 将编译后的程序文件上传至设备指定目录；
2. 通过终端或设备本地执行程序启动命令，程序启动后摄像头自动开启，显示屏实时显示检测画面，画面左上角会出现退出按钮；
3. 检测过程中，显示屏会实时展示目标框、目标类别名称，以及摄像头采集耗时、模型检测耗时、画面显示耗时、总耗时和实时帧率等信息；
4. 退出程序：
   - 常规方式：用手指触摸显示屏左上角的退出按钮区域，程序立即终止运行；
   - 应急方式：若通过终端运行程序，可按下 Ctrl + C 快捷键强制退出程序。

## 4. 注意事项
1. **文件路径**：务必保证 `yolov5s.mud` 文件路径与程序中指定路径一致,路径错误会导致程序启动失败并输出日志错误信息；
2. **硬件适配**：程序会根据摄像头分辨率自动适配字体大小、按钮尺寸，若设备屏幕/摄像头分辨率特殊，可能出现按钮显示不全或触控区域偏移，需调整代码中按钮缩放比例参数；
3. **性能指标**：耗时、帧率等性能数据仅作参考，不同硬件配置（芯片型号、内存大小）下数值会有差异；
4. **异常处理**：若程序启动失败，可查看日志信息定位问题（如模型加载失败、摄像头未识别、图片文件缺失等）；
5. **资源释放**：程序退出时会自动释放摄像头、显示屏、图片、检测结果等资源，无需手动清理，避免强制断电导致资源占用。

## 5. 更多介绍
[源码](https://github.com/sipeed/MaixCDK/tree/main/projects/app_detector)

[MaixPy MaixCAM 使用 YOLOv5 / YOLOv8 / YOLO11 模型进行目标检测](https://wiki.sipeed.com/maixpy/doc/zh/vision/yolov5.html)